<!DOCTYPE html><html>
      <head>
        <title id="app-title">新项目</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,user-scalable=no">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        
        <link href="/static/css/concise.min.css" rel="stylesheet"><link href="/static/css/concise-ui.min.css" rel="stylesheet"><link href="/static/css/mgrid.css" rel="stylesheet">
        <style>
          @keyframes -w-common-slide-show{0%{width:15%}50%{width:35%}80%{width:55}to{width:72%}}@keyframes -w-common-slide-close{0%{width:2%}50%{width:10%}80%{width:20%}to{width:27.8%}}@keyframes -w-notify-from-top{0%{top:1%}}@keyframes -w-notify-from-bottom{0%{transform:translateX(90%) translateY(90%)}}@keyframes -w-prompt-show-middle{0%{height:10%;min-height:10%}50%{height:20%;min-height:20%}to{height:28%;min-height:28%}}@keyframes -w-prompt-show-bottom{0%{bottom:-10%}50%{bottom:1%}to{bottom:5%}}@keyframes -w-prompt-show-top{0%{top:0;min-height:23%;max-height:69%}50%{top:5%;min-height:25%;max-height:72%}to{top:10%;min-height:28%;max-height:75%}}@keyframes -w-current-page-display-forward{0%{transform:translateX(85%)}50%{transform:translateX(50%)}80%{transform:translateX(15%)}to{transform:translateX(0)}}@keyframes -w-hide-cur-page-back{0%{width:90%;left:10%}50%{width:65%;left:35%}80%{width:45%;left:55%}to{width:0%;left:100%}}@keyframes -w-current-page-display-back{0%{transform:translateX(-75%)}50%{transform:translateX(-55%)}80%{transform:translateX(-20%)}to{transform:translateX(0)}}.w-global-alert-info,.w-global-notify-box,.w-prompt-box{border-radius:.1rem}.w-common-slide-right{animation:-w-common-slide-show .18s 1}.w-common-slide-right-close{animation:-w-common-slide-close .18s 1}.w-notify-bottom{animation:-w-notify-from-bottom .2s 1}.w-notify-top{animation:-w-notify-from-top .2s 1}.w-prompt-middle{animation:-w-prompt-show-middle .1s 1}.w-prompt-bottom{animation:-w-prompt-show-bottom .1s 1}.w-prompt-top{animation:-w-prompt-show-top .085s 1}.w-current-page-display-forward{animation:-w-current-page-display-forward .185s 1}.w-hide-cur-page-back{animation:-w-hide-cur-page-back .18s 1}.w-current-page-display-back{animation:-w-current-page-display-back .18s 1}:root{--w-alert-bg-color:#f6f7f9;--w-alert-color:#4a4a4a;--w-tabbar-color:#4a4a4f;--w-tabbar-bg-color:#fdfdfd;--w-page-bg-color:#fcfcff;--w-slider-bg-color:#fcfcff;--w-slider-close-bg-color:rgba(21,22,25,0.32);--w-common-shadow:0px 0.1rem 1.2rem 0.1rem rgba(15, 15, 15, 0.1),inset 0px -0.1rem 0px 0px rgba(15,15,15,0.1);--w-notify-color:#f1f2f3;--w-notify-bg-color:rgba(62, 64, 68, 0.85);--w-notify-light-color:#4a4a4a;--w-notify-light-bg-color:rgba(240, 240, 240, 0.95);--w-prompt-color:#4a4a4a;--w-prompt-bg-color:#fafafd;--w-prompt-glass-bg-color:rgba(42,43,45, 0.033);--w-cover-bg-color:rgba(22,23,25, 0.15)}.w-tabbar-row-x{z-index:2;position:fixed;width:100%;bottom:0;left:0;background:var(--w-tabbar-bg-color, #fbfbfd);min-height:2.2rem;max-height:3.6rem;display:flex;flex-flow:row nowrap;justify-content:space-around;align-items:flex-end}.w-tabbar-row-cell{color:var(--w-tabbar-color, #4a4a4f);padding:.12rem;text-align:center;border-right:solid .05rem #eaeaef;vertical-align:middle;cursor:pointer}.w-current-page-display{z-index:3;position:fixed;width:100%;left:0;height:100%;overflow-y:auto;overflow-x:hidden;overflow-wrap:break-word;top:0;background:var(--w-page-bg-color, #fcfcff)}.w-hide-cur-page{width:0%;height:0%;visibility:hidden;display:none}.w-common-slide-right{padding:.6rem;z-index:100;position:fixed;right:0;top:0;height:100%;width:79.9%;word-wrap:break-word;word-break:break-all;overflow-y:auto;background:var(--w-slider-bg-color,#fcfcff)}.w-common-slide-right-close{z-index:100;position:fixed;top:0;left:0;height:100%;width:20%;background:var(--w-slider-close-bg-color,rgba(21,22,25,0.32))}.w-hide-common-slide-right,.w-hide-common-slide-right-close{width:0;height:0;visibility:hidden;display:none}.w-global-notify-box{z-index:102;position:fixed;line-height:150%;color:var(--w-notify-color, #f1f2f3);min-height:10%;max-height:46.5%;overflow-y:auto;overflow-x:hidden;word-break:break-all;word-wrap:break-word;background:var(--w-notify-bg-color, rgba(62, 64, 68, 0.85));box-shadow:var(--w-notify-shadow, var(--w-common-shadow, 0.25rem 0.25rem 0.25rem #a1a2a3));padding:.5rem}.w-notify-light{background:var(--w-notify-light-bg-color, rgba(240, 240, 240, 0.95));color:var(--w-notify-light-color, #4a4a4a)}.w-notify-bottom{right:2%;bottom:2.35%}.w-notify-top,.w-prompt-box{left:50%;transform:translateX(-50%)}.w-notify-top{top:5%}.w-prompt-box{z-index:101;position:fixed;word-break:break-all;word-wrap:break-word;color:var(--w-prompt-color, #424242);background:var(--w-prompt-bg-color, #fafafd);box-shadow:var(--w-prompt-shadow, var(--w-common-shadow, 0.2rem 0.2rem 0.2rem #d1d2d3));padding:.5rem;overflow:auto}.w-prompt-box a{text-decoration:none}.w-prompt-glass{background:var(--w-prompt-glass-bg-color, rgba(42,43,45, 0.033));color:#4a4a4f}.w-prompt-dark{background:rgba(81,82,83,.95);color:#efefef}.w-prompt-dark div,.w-prompt-dark p,.w-prompt-dark span{color:#efefef}.w-prompt-dark a{color:#e2e2ef}.w-prompt-close{z-index:100;position:fixed;background:rgba(7,8,9,.0235);width:99.999%;height:99.999%;top:0;left:0}.w-prompt-close-glass{background:rgba(2,3,5,.016)}.w-prompt-bottom{bottom:5%;min-height:25%;max-height:65%}.w-prompt-middle{bottom:50%;min-height:28%;max-height:72%;transform:translate(-50%,45%)}.w-prompt-top{top:10%;min-height:28%;max-height:75%}.w-prompt-block{top:0;height:99.9%;width:99.9%}.w-navigate-btn{z-index:4;position:fixed;bottom:8%;padding:.32rem;font-size:80%;color:#4a4a4f;min-width:2%;max-width:25%;text-align:center}.w-navigate-btn-up{bottom:28%}.w-navigate-btn-bk{background:#4a4a4f}.w-navigate-btn-bkrgba{background:rgba(67,67,73,.45)}.w-navigate-btn-bklucency{background:rgba(67,67,73,.12)}.w-navigate-btn a{color:#4a4a4f;text-decoration:none}.w-navigate-btn-left{left:.5%;border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.w-navigate-btn-right{right:.5%;border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.w-navigate-btn-bottom{min-width:10%;max-width:95%;bottom:1.5%;left:50%;transform:translateX(-50%)}.w-alert-cover-page{z-index:104;position:fixed;width:100%;height:100%;background:var(--w-cover-bg-color, rgba(22,23,25, 0.15))}.w-global-alert-info{z-index:105;position:fixed;left:50%;transform:translateX(-50%);top:5%;word-break:break-all;word-wrap:break-word;line-height:2rem;color:var(--w-alert-color, #4a4a4a);min-height:4rem;max-height:86%;overflow-y:auto;background:var(--w-alert-bg-color, #f7f8fa);padding:.5rem}.w-global-alert-trans{background:rgba(252,252,252,.025)}@media only screen and (max-width:750px){.w-global-alert-info{width:78%}.w-prompt-display{width:92%}.w-global-notify-info{width:78%}}@media only screen and (min-width:751px) and (max-width:1000px){.w-global-alert-info{width:69%}.w-prompt-display{width:86%}.w-global-notify-info{width:69%}}@media only screen and (min-width:1001px) and (max-width:1200px){.w-global-alert-info,.w-global-notify-info{width:58%}.w-prompt-display{width:80%}}@media only screen and (min-width:1201px) and (max-width:1440px){.w-global-alert-info,.w-global-notify-info{width:48%}.w-prompt-display{width:76%}}@media only screen and (min-width:1441px){.w-global-alert-info,.w-global-notify-info{width:39%}.w-prompt-display{width:69%}}
          @keyframes rotating{0%{transform:rotateZ(0deg)}15%{transform:rotateZ(60deg)}35%{transform:rotateZ(120deg)}55%{transform:rotateZ(180deg)}75%{transform:rotateZ(240deg)}95%{transform:rotateZ(300deg)}to{transform:rotateZ(360deg)}}@font-face{font-family:"JetBrainsMono";src:url(/static/font/JetBrainsMono-Regular.ttf)}[container]{max-width:1920px}:root{font-size:16px;font-family:"JetBrainsMono,Helvetica,Arial,sans-serif"}div,h1,h2,h3,h4,h5,h6,p,span{font-family:"JetBrainsMono,Helvetica,Arial,sans-serif"}:root ::part(btn),button,input{border-radius:.08rem}.short-input,:root ::part(short-input){width:60%}.middle-input,:root ::part(middle-input){width:80%}.long-input,:root ::part(long-input){width:100%}.editor-area{min-height:25rem;overflow:auto;margin-top:.15rem}.btn-circle,:root ::part(btn-circle){width:2.64rem;height:2.64rem;border-radius:1.32rem;background-color:#f5f6f8;box-shadow:-.12rem .2rem .23rem rgba(125,125,125,.56);line-height:2.64rem;text-align:center;font-size:89%;color:#4a4a4f;overflow:hidden;margin-left:.28rem;margin-right:.28rem;cursor:pointer;margin-bottom:.36rem;user-select:none}.btn-block,:root ::part(btn-block){width:2.8rem;height:2rem;line-height:2rem;border-radius:.25rem}.btn-circle-orange{background:#ee5832;color:#424345}.btn-circle-gray,:root ::part(btn-circle-gray){background:#d1d2d5;color:#424345}.btn-circle-light-gray,:root ::part(btn-circle-light-gray){background:#dfdfe1;color:#424345}.btn-circle-dark,:root ::part(btn-circle-dark){background:#6a6a6a;color:#dfdfdf}.btn-circle-dark-rgba,:root ::part(btn-circle-dark-rgba){background:rgba(105,105,105,.58);color:#dfdfdf}.btn-circle-ok,:root ::part(btn-circle-ok){background:#4268df;color:#38373d}.btn-circle-red{background:#ca4545;color:#424245}.ok-btn{background:#3ca8bb;color:#424345}input[type=submit]{background:#a84e70}input[ok]{background:#1ba3a3}.testok{background:#d9dde0}.set-btn{background:#d3d2df;color:#424345}.search-btn{background:#dcdce7;color:#424345}.alert-btn{background:#787980;color:#fafafa}.a-menu,:root ::part(a){text-decoration:none;color:#4a4a59}.spana,:root ::part(spana){cursor:pointer;padding:.25rem;color:#4a4a68;line-height:120%;user-select:none}.spana-middle{font-size:92%}.spana-small{font-size:86%}.spana-tiny{font-size:80%}.align-center,:root ::part(align-center),[align-center]{text-align:center}.align-left,[align-left]{text-align:left}.align-right,:root ::part(align-right),[align-right]{text-align:right}.alert-text,[alert-text]{color:#d93516}.small,:root ::part(small),[small]{font-size:85%}.tiny,:root ::part(tiny),[tiny]{font-size:80%}.helper,:root ::part(helper),[helper]{font-size:85%;color:#676869}.italic,:root ::part(italic),[italic]{font-style:italic}.helper-light,:root ::part(helper-light),[helper-light]{font-size:86%;color:#dfdfe2}.padding-25,:root ::part(padding-25),[padding-25]{padding:.25rem}.padding-5,:root ::part(padding-5),[padding-5]{padding:.5rem}.padding-8,:root ::part(padding-8),[padding-8]{padding:.8rem}.padding,:root ::part(padding),[padding]{padding:1rem}.mtop5,:root ::part(mtop5),[mtop5]{margin-top:.5rem}.mleft5,:root ::part(mleft5),[mleft5]{margin-left:.5rem}.mright5,:root ::part(mright5),[mright5]{margin-right:.5rem}.mbottom5,:root ::part(mbottom5),[mbottom5]{margin-bottom:.5rem}.mtop,:root ::part(mtop),[mtop]{margin-top:1rem}.loadinfo-worker{border:.05rem solid #4556d5}.loadinfo-master{border:.05rem solid #676869}.image,:root ::part(image){width:auto;height:auto;max-width:100%;border-radius:.1rem}.card-head,:root ::part(card-head),[card-head]{font-weight:680}.card,:root ::part(card),[card]{padding:.6rem;border-radius:.18rem;box-shadow:.2rem .2rem .2rem #efeff2;margin:.8rem auto}.inset-shadow,:root ::part(inset-shadow),[inset-shadow]{box-shadow:0 .1rem 1.2rem .1rem rgba(15,15,15,.1),inset 0-.1rem 0 0 rgba(15,15,15,.1)}.card-space,:root ::part(card-space),[card-space]{margin:.38rem auto}.icon,:root ::part(icon),[icon]{width:1.1rem;height:auto}.icon-large,:root ::part(icon-large),[icon-large]{width:1.6rem;height:auto}.block{border:#e5e8e9 solid .05rem;padding:.35rem}.select{background:#efeff2}.select-blue{background:#5689f9}.content-preview{padding:.25rem;margin-bottom:1rem;margin-top:.8rem}table{width:100%}.lh158,:root ::part(lh158),[lh158]{line-height:158%}.lh2,:root ::part(lh2),[lh2]{line-height:200%}.line,:root ::part(line){width:100%;height:.25rem;margin-bottom:.58rem;border-bottom:solid #cdcdcf .08rem}.rotate,:root ::part(rotate){animation:rotating .36s infinite}.blue-dark{color:#1573b6}.blue,:root ::part(blue){color:#2298ed}.dark,:root ::part(dark){color:#32373d}.dark-light{color:#4f4f4f}.red,:root ::part(red){color:#cd5245}.red-light,:root ::part(red-light){color:#dc3c3c}.red-dark,:root ::part(red-dark){color:#b73333}.orange,:root ::part(orange){color:#f17f42}.gray,:root ::part(gray){color:#666}.editor-title{background:#565758;color:#dfdfdf}.hide,:root ::part(hide){display:none;visibility:hidden}.click,:root ::part(click),[click]{cursor:pointer}.select-none,:root ::part(select-none),[select-none]{user-select:none}:root ::part(btn){cursor:pointer;font-size:.83333rem;line-height:2.25rem;padding:0 1.5em;-webkit-transition:background-color .15s;transition:background-color .15s;white-space:nowrap}:root ::part(border-red){background-color:transparent;border:1px solid #c65146;color:#c65146}:root ::part(border-blue),:root ::part(border-green){border-color:#10a887;background-color:transparent;color:#10a887}:root ::part(border-blue){border-color:#66a1ee;color:#66a1ee}:root ::part(btn-gray){background-color:rgba(0,0,0,.15);display:inline-block;margin-left:1.25em;padding:0 1em;vertical-align:0}.center,:root ::part(center),[center]{display:grid;place-items:center}.circle-image,:root ::part(circle-image),[circle-image]{border-radius:50%}.submit-button{border:solid .05rem #dfdfef;padding:.5rem;text-align:center;line-height:125%}
        </style>
        <style>a{outline:none;text-decoration: none;}</style>
          
        <script>
          "use strict";class __htmlstate{constructor(){this.STATE={CHAR:"c",TAG_ATTR_PRE:"_",TAG_ATTR:"a",TAG_START:"<",TAG_END:">",TAG_CLOSE:"/",TAG_CLOSE_END:"/>",SPACE:" ",TAG_ATTR_VALUE_START:"@",TAG_ATTR_VALUE_END:"/@",TAG_CLOSE_START:"</",TAG_ATTR_SET_VALUE:"=",TAG_ATTR_VALUE:"v",TAG_NAME:"n",TAG_CLOSE_NAME:"cn",NONE:0},this.attrType="",this.curState=this.STATE.NONE,this.cursor=0,this.lastCursor=0,this.tagStack=[],this.tagCloseStack=[],this.singleTags=["br","hr","img","input","param","meta","link"],this.lastErrorMsg="",this.curTagIndex=0,this.curTagEndIndex=0,this.data="",this.is_script=!1}diffCloseTag(){let t="",e=this.curTagEndIndex;for(;" "!==this.data[e]&&e<this.cursor;)e+=1;return t=this.data.substring(this.curTagEndIndex,e),t.toLowerCase()===this.tagStack.pop()}pushTag(){let t="",e=this.curTagIndex;for(;" "!==this.data[e]&&e<this.cursor;)e+=1;t=this.data.substring(this.curTagIndex,e).toLowerCase(),this.singleTags.indexOf(t)<0&&this.tagStack.push(t),"script"===t&&(this.is_script=!0)}checkSpace(t){if(this.STATE.TAG_START===this.curState||this.STATE.TAG_CLOSE===this.curState)return!1;if(" "===t)return!0;if(this.curState===this.STATE.TAG_ATTR_VALUE_END)return this.curState=this.STATE.TAG_ATTR_PRE,!0;if(this.curState===this.STATE.TAG_ATTR_VALUE)return""===this.attrType&&(this.curState=this.STATE.TAG_ATTR_PRE),!0;if(this.STATE.TAG_NAME===this.curState||this.curState===this.STATE.TAG_ATTR)this.curState=this.STATE.TAG_ATTR_PRE;else if(this.STATE.NONE===this.curState)this.curState=this.STATE.CHAR;else if(">"===t)return!1;return!0}checkTagStart(t){return this.curState===this.STATE.TAG_ATTR_VALUE?""===this.attrType:(this.STATE.TAG_END===this.curState||this.STATE.TAG_CLOSE_END===this.curState||this.STATE.NONE===this.curState||this.STATE.CHAR===this.curState)&&("/"===t?(this.curState=this.STATE.TAG_CLOSE,this.cursor+=1,this.curTagEndIndex=this.cursor+1):(this.curState=this.STATE.TAG_START,this.curTagIndex=this.cursor+1),!0)}checkTagEnd(t,e){return this.curState===this.STATE.TAG_CLOSE_NAME?(this.curState=this.STATE.TAG_CLOSE_END,!!this.diffCloseTag()):(this.curState===this.STATE.TAG_NAME||this.curState===this.STATE.TAG_ATTR||this.curState===this.STATE.TAG_ATTR_PRE||this.curState===this.STATE.TAG_ATTR_VALUE&&""===this.attrType||this.curState===this.STATE.TAG_ATTR_VALUE_END)&&(this.curState=this.STATE.TAG_END,this.pushTag(),!0)}checkAttrQuote(t,e){return this.curState===this.STATE.NONE||this.curState===this.STATE.CHAR||this.curState===this.STATE.TAG_CLOSE_END||this.curState===this.STATE.TAG_END?(this.curState=this.STATE.CHAR,!0):this.curState===this.STATE.TAG_ATTR_SET_VALUE?(this.attrType=t,this.curState=this.STATE.TAG_ATTR_VALUE_START,!0):this.curState!==this.STATE.TAG_ATTR_VALUE_END&&((this.curState===this.STATE.TAG_ATTR_VALUE||this.curState===this.STATE.TAG_ATTR_VALUE_START)&&(t===this.attrType&&(this.curState=this.STATE.TAG_ATTR_VALUE_END,!0)))}checkAttrSetValue(t){return this.curState===this.STATE.NONE||this.STATE.CHAR===this.curState||this.curState===this.STATE.TAG_END||this.curState===this.STATE.TAG_CLOSE_END?(this.curState=this.STATE.CHAR,!0):this.STATE.TAG_ATTR===this.curState&&(this.curState=this.STATE.TAG_ATTR_SET_VALUE,!0)}checkChar(t,e){return"/"===t&&e&&">"===e&&(""===this.attrType&&this.curState===this.STATE.TAG_ATTR_VALUE||this.STATE.TAG_NAME===this.curState||this.STATE.TAG_ATTR===this.curState||this.STATE.TAG_ATTR_PRE===this.curState)?(this.cursor+=1,this.curState=this.STATE.TAG_CLOSE_END,!0):this.curState===this.STATE.TAG_ATTR_PRE?(this.curState=this.STATE.TAG_ATTR,!0):this.curState===this.STATE.TAG_ATTR_SET_VALUE?"\\"===t?(this.cursor+=2,!0):(this.attrType="",this.curState=this.STATE.TAG_ATTR_VALUE,!0):this.curState===this.STATE.NONE?(this.curState=this.STATE.CHAR,!0):this.curState===this.STATE.TAG_ATTR_VALUE_START?(this.curState=this.STATE.TAG_ATTR_VALUE,!0):this.curState===this.STATE.TAG_START?(this.curState=this.STATE.TAG_NAME,!0):this.curState!==this.STATE.TAG_CLOSE||(this.curState=this.STATE.TAG_CLOSE_NAME,!0)}checkState(t,e){if(t!==this.attrType&&""!==this.attrType&&this.curState===this.STATE.TAG_ATTR_VALUE)return!0;if(this.is_script){let t=this.data.indexOf("<\/script>",this.cursor);return!(t<0)&&(this.cursor=t-1,this.is_script=!1,!0)}switch(t){case"<":return this.checkTagStart(e);case">":return this.checkTagEnd(t,e);case'"':case"'":return this.checkAttrQuote(t,e);case" ":return this.checkSpace(e);case"=":return this.checkAttrSetValue(e);default:return this.checkChar(t,e)}}diffStack(){return this.tagStack.length===this.tagCloseStack.length}init(){this.curState=this.STATE.NONE,this.attrType="",this.curTagIndex=this.curTagEndIndex=0,this.tagStack=[],this.is_script=!1,this.data="",this.cursor=0}parse(t){if(this.init(),"string"!=typeof t)return console.error("data is not string."),!0;if(t.indexOf("<!doctype html>")>=0)return this.lastErrorMsg="渲染数据不可出现&lt;!doctype html&gt;声明",!1;if(this.data=t.replace(new RegExp("<SCRIPT>","ig"),"<script>").replace(new RegExp("<\/SCRIPT>","ig"),"<\/script>").replace(/<!--(.|[\r\n])*?-->/gm,""),0===this.data.length)return!0;if(1===this.data.length)return"<"!==this.data[0]&&">"!==this.data[0]||(this.lastErrorMsg="标签符号 < 或 > 需要转义",!1);this.cursor=0;let e,r=this.data.length,o=this.data.length-1;for(;this.cursor<r;){if(e=this.cursor<o?this.checkState(this.data[this.cursor],this.data[this.cursor+1]):this.checkState(this.data[this.cursor],""),this.curState===this.STATE.TAG_START&&(this.lastCursor=this.cursor),!e){let t=this.data.substring(this.lastCursor,this.cursor+10);return this.lastErrorMsg=`index ${this.lastCursor} ~ ${this.cursor}, 错误的语法。<p style="color:#df6878;">...${t.replaceAll("<","&lt;").replaceAll(">","&gt;")}...</p>`,console.error(this.data),!1}this.cursor+=1}return this.curState!==this.STATE.CHAR&&this.curState!==this.STATE.TAG_END&&this.curState!==this.STATE.TAG_CLOSE_END?(this.lastErrorMsg="标签结束状态错误，请检查模板字符串的语法格式。",!1):!!this.diffStack()||(this.lastErrorMsg="模板标签包含嵌套不一致。",!1)}}const w=new function(){this.alertlog="",this.alertlogcount=0,this.notifylog="",this.notifylogcount=0,Object.defineProperty(this,"config",{value:{},writable:!1,enumerable:!0,configurable:!1}),this.config.notFound="",this.host="",this.prepath="",this.homepage=null,this.__title__="",this.curTitle="",this.checkhtml=!0,this.errorList=[],Object.defineProperty(this,"title",{set:t=>{null===t||""===t||void 0===t?(document.getElementById("app-title").innerHTML=this.__title__,this.curTitle=this.__title__):(document.getElementById("app-title").innerHTML=t,this.curTitle=t)},get:()=>this.curTitle}),this.setTitle=t=>{this.title=`${this.__title__}${t}`},this.resetTitle=()=>{this.title=this.__title__},this.ua=navigator.userAgent,this.isFirefox=!1,navigator.userAgent.indexOf("Firefox")>0&&(this.isFirefox=!0),this.alertLock=!1,this.alert=function(t,e={}){let r="alertdom",o="alertcoverdom";if(e.shadow&&(r="alertdom1",o="alertcoverdom1"),w.alertLock&&!e.shadow)return!1;t=w.fmtHTML(w.curpagename,t);let i=!0;if(w.checkhtml&&(i=w._htmlcheck(t)),!i)return w[r];if(w[r]){e.shadow||(w.alertlogcount+=1,w.alertlogcount>3&&(w.alertlog="",w.alertlogcount=1)),e.replace?w.alertlog=t:w.alertlog=`${t}<br>${w.alertlog}`;let o='<div style="text-align:right;"><a href="javascript:w.unalert();" style="color:#696365;font-size:105%;text-decoration:none;cursor:pointer;">&nbsp;X&nbsp;</a></div>';e.notClose&&(o=""),w[r].className="w-global-alert-info",e.transparent&&(w[r].className+=" w-global-alert-trans"),w[r].innerHTML="object"==typeof t?`${o}${t.innerHTML}`:`${o}${w.alertlog}`,w.initPageDomEvents(e.context||w.curpage,w[r])}return e.withCover&&w[o]&&(!e.shadow&&(w.alertLock=!0),w[o].className="w-alert-cover-page"),w[r]},this.unalert=function(t="self"){let e=["alertdom"],r=["alertcoverdom"];"shadow"===t?(e=["alertdom1"],r=["alertcoverdom1"]):"all"===t&&(e=["alertdom","alertdom1"],r=["alertcoverdom","alertcoverdom1"]),"shadow"!==t&&(this.alertLock=!1,w.alertlogcount=0,w.alertlog="");for(let t of e)w[t]&&(w[t].innerHTML="",w[t].className="");for(let t of r)w[t]&&(w[t].className="",w[t].innerHTML="",w[t].style.cssText="")},this.uncover=function(){this.unalert()},this.uncoverShadow=function(){this.unalert("shadow")},this.coverShadow=function(t,e=!1){this.alert(t,{replace:!0,notClose:!0,withCover:!0,shadow:!0,transparent:e})},this.acover=function(t,e=!1){this.alert(t,{replace:!0,notClose:!0,withCover:!0,transparent:e})},this.alertError=function(t,e=0){t=`<span style="color:#e73949;">${t}</span>`,w.alert(t),e>0&&setTimeout((()=>{w.unalert()}),e)},this.notifyError=function(t,e=2e3){w.notify(t,{tmout:e,ntype:"error"})},this.notifyLight=function(t,e=2e3){w.notify(t,{tmout:e,ntype:"light"})},this.notifyTop=function(t,e=2500){w.notify(t,{tmout:e,ntype:"top"})},this.notifyTopError=function(t,e=2500){w.notify(t,{tmout:e,ntype:"top-error"})},this.notifyOnly=function(t,e=2500){w.notify(t,{tmout:e,ntype:"only"})},this.notifyTimer=null,this.notify=function(t,e={}){let r=e.timeout||e.tmout;r=void 0===r||isNaN(r)?3500:r;let o=e.ntype||"notify";r<0&&(w.notifyTimer&&clearTimeout(w.notifyTimer),w.notifyTimer=null,w.unnotify()),t=w.fmtHTML(w.curpagename,t);let i=!0;if(w.checkhtml&&(i=w._htmlcheck(t)),!i)return w.notifydom;o.indexOf("error")>=0&&(t=`<span style="color:#f76567;font-size:95%;">${t}</span>`);let s="w-notify-bottom";o.indexOf("top")>=0&&(s="w-notify-top");let a="#e5e5e9";return o.indexOf("light")>=0&&(s+=" w-notify-light",a="#4a4a4a"),o.indexOf("only")>=0&&(w.notifylogcount=6,w.notifydom.className.length>0&&w.unnotify()),w.notifydom&&(w.notifylogcount+=1,w.notifylogcount>5&&(w.notifylog="",w.notifylogcount=1),w.notifylog=`${t}<br>${w.notifylog}`,w.notifydom.className=`w-global-notify-box ${s} w-global-notify-info`,o.indexOf("noclose")>=0?w.notifydom.innerHTML=`<p style="color:${a};">${w.notifylog}</p>`:w.notifydom.innerHTML=`<div style="text-align:right;"><a href="javascript:w.unnotify();" style="color:#dfdfdf;font-size:109%;text-decoration:none;">&nbsp;X&nbsp;</a></div><p style="color:${a};">${w.notifylog}</p>`,w.initPageDomEvents(w.curpage,w.notifydom)),r>=0&&(w.notifyTimer&&clearTimeout(w.notifyTimer),w.notifyTimer=setTimeout((()=>{w.unnotify()}),r)),w.notifydom},this.unnotify=function(){w.notifydom&&(w.notifylog="",w.notifylogcount=0,w.notifydom.className="",w.notifydom.innerHTML="",w.notifyTimer=null)},this.notice=function(t){w.notify(t,{tmout:-1})},this.promptMiddle=function(t,e={}){e.wh="middle",w.prompt(t,e)},this.promptMiddleGlass=function(t,e={}){e.wh="middle",e.glass="glass",this.promptGlass(t,e)},this.promptGlass=function(t,e={}){e.glass="glass",this.prompt(t,e)},this.promptDark=function(t,e={}){e.glass="dark",this.prompt(t,e)},this.promptMiddleDark=function(t,e={}){e.wh="middle",e.glass="dark",this.promptDark(t,e)},this.promptTop=function(t,e={}){e.wh="top",this.prompt(t,e)},this.promptTopGlass=function(t,e={}){e.wh="top",e.glass="glass",this.prompt(t,e)},this.promptTopDark=function(t,e=!1){this.promptTop(t,e,"dark")},this.prompt=function(t,e={}){t=w.fmtHTML(w.curpagename,t);let r=e.wh||"bottom",o=e.noclose||!1,i=e.glass||!1;if(w.promptdom){w.promptdom.className=`w-prompt-box w-prompt-${r} w-prompt-display`;let s="#424242";!0===i||"glass"===i?w.promptdom.className+=" w-prompt-glass":"dark"===i&&(w.promptdom.className+=" w-prompt-dark",s="#efefef"),e.color&&(s=e.color),o?w.promptdom.innerHTML=`<p style="color:${s};">${t}</p>`:(w.promptclosedom.className="w-prompt-close",!0!==i&&"glass"!==i||(w.promptclosedom.className+=" w-prompt-close-glass"),w.promptclosedom.onclick=t=>{w.unprompt()},w.promptdom.innerHTML=`<div style="overflow:auto;word-wrap:break-word;"><p style="color:${s};">${t}</p></div>`),w.initPageDomEvents(w.curpage,w.promptdom)}return w.promptdom},this.promptBlock=function(t){return w.promptdom&&(w.promptdom.className="w-prompt-box w-prompt-block",w.promptdom.innerHTML=`<div style="color:#4a4a4f;padding:0.8rem;margin-top:5%;">${w.fmtHTML(w.curpagename,t)}</div>`),w.initPageDomEvents(w.curpage,w.promptdom),w.promptdom},this.unprompt=function(){w.promptdom&&(w.promptdom.className="",w.promptdom.innerHTML=""),w.promptclosedom&&(w.promptclosedom.className="",w.promptclosedom.innerHTML="")},this.parseHashUrl=function(t){let e={query:{},path:"",orgpath:""};t.length>0&&"#"==t[0]&&(t=t.substring(1)),e.orgpath=t;let r=t.split("?");e.path=r[0];let o="";r.length>1&&(o=r[1]);let i=o.split("&"),s=[];for(let t=0;t<i.length;t++)s=i[t].split("="),s.length<1&&s.push(""),e.query[s[0]]=s[1];return e},this.firstListenHash=!0,this.listenHashLock=!1,this.historyList=["#"],this.historyLength=history.length,this.pageShowType="",this.pageShowTypeLock=!1,this.listenHash=function(t=""){if(!0!==this.listenHashLock){this.pageShowTypeLock||(this.pageShowType=t),this.pageShowTypeLock=!1;try{this.listenHashLock=!0;let t=location.hash,e=this.parseHashUrl(t);if(w.tabs.pages.indexOf(e.path)>=0)return this.listenHashLock=!1,this.firstListenHash?void(location.hash=""):void 0;if(this.firstListenHash=!1,""==e.path&&w.tabs.list.length>0){this.listenHashLock=!1;let t=w.tabs.cur;return w.tabs.cur="",w.switchTab(t||w.tabs.pages[0])}this.loadPage(e),this.listenHashLock=!1}catch(t){this.listenHashLock=!1}}},this.pages={},this.curpage=null,this.curpagename=null,this.storage=new function(){this.length=0,this.set=function(t,e){try{let r;switch(typeof e){case"number":r=`${e}`;break;case"object":r=JSON.stringify(e);break;case"function":r="function";break;case"string":r=e;break;default:r=e.toString()}return localStorage.setItem(t,r),this.length+=r.length,!0}catch(t){return!1}},this.get=function(t,e=!1){let r=localStorage.getItem(t);if(null===r)return null;try{return e?JSON.parse(r):r}catch(t){return null}},this.remove=function(t){let e=localStorage.getItem(t);null!==e&&(localStorage.removeItem(t),this.length-=e.length)},this.delete=this.remove,this.clear=function(){localStorage.clear(),this.length=0},this.getPre=function(t,e=null){let r,o=localStorage.length,i=[];for(let s=0;s<o;s++)r=localStorage.key(s),0===r.indexOf(t)&&(e&&e.justKeys?i.push(r):i.push({key:r,data:this.jget(r)}));return i},this.removePre=function(t,e=null){let r=this.getPre(t);for(let t of r)e&&"function"==typeof e?e(t)&&this.remove(t.key):this.remove(t.key)},this.jget=function(t){return this.get(t,!0)}},this.initFlag=!1,this.initPage=function(){for(let t in this.pages)this.pages[t].__dom__=this.pgcdom.insertBefore(document.createElement("div"),this.pgcdom.firstChild),this.pages[t].initCount=0,this.pages[t].loaded=!1,this.pages[t].scroll=0,this.pages[t].bottomTime=0,this.pages[t].pageKey=t,this.pages[t].__name__=t,this.pages[t].init=!1,this.pages[t].__dom__.onscroll=w.events.scroll,this.pages[t].tabsPlace="",w.tabs.list.length>0&&(this.pages[t].tabsPlace='<div style="height:3.8rem;">&nbsp;</div>',w.tabs.pages.indexOf(t)>=0&&(this.pages[t].__dom__.style.cssText="z-index:1;"));this.initFlag=!0},this.destroyAllPage=function(){for(let t in w.pages)this.destroyPage(w.pages[t])},this.destroyPage=function(t=null){if(null!==t||null!==(t=this.curpage)){if(t.onunload&&"function"==typeof t.onunload)try{t.onunload()}catch(e){w.notifyError(`Page：${t.__name__} 执行onunload失败：<p>${e.message}</p>`,1e4)}t.__dom__.innerHTML="",t.__dom__.className="w-hide-cur-page",t.init=!1,t.loaded=!1,t.bottomTime=0}},this.stopPage=function(t=null){null===t&&null===(t=this.curpage)||(t.__dom__.className="w-hide-cur-page")},this.unStopPage=function(t=null){null===t&&null===(t=this.curpage)||(t.__dom__.className="w-current-page-display")},this.hidePage=function(t=null){if(t||(t=w.curpage),null!==t&&("back"===w.pageShowType?t.__dom__.className="w-hide-cur-page w-hide-cur-page-back":t.__dom__.className="w-hide-cur-page",t.onhide&&"function"==typeof t.onhide))try{t.onhide()}catch(t){console.error(t)}},this.showPage=function(t){w.pageShowType&&"#"!==location.hash&&w.curpagename!==w.homepage&&""!==location.hash?"forward"===w.pageShowType?t.__dom__.className="w-current-page-display w-current-page-display-forward":"back"===w.pageShowType&&(t.__dom__.className="w-current-page-display w-current-page-display-back"):t.__dom__.className="w-current-page-display"},this.hideAll=function(){for(let t in this.pages)this.pages[t].__dom__.className="w-hide-cur-page"},this.context=function(){return{path:"",model:{},request:w.request,dom:null,url:{}}}};w._htmlparse=new __htmlstate,w._htmlcheck=function(t){return!!w._htmlparse.parse(t)||(w.notify(w._htmlparse.lastErrorMsg,{tmout:1e4,ntype:"top-error"}),!1)},w.getCoverDom=()=>w.alertcoverdom,w.setCoverText=(t="",e="")=>{w.alertcoverdom.innerHTML=t,w.alertcoverdom.style.cssText=e},w.setCoverShadowText=(t="",e="")=>{w.alertcoverdom1.innerHTML=t,w.alertcoverdom1.style.cssText=e},w.sliderPage=function(t=null,e=!0,r=null){if(w.slidedom&&(w.slidedom.className="w-common-slide-right",w.slidexdom.className="w-common-slide-right-close",w.slidexdom.onclick=w.hideSliderPage,null!==t)){if("string"==typeof t){let e=w.fmtHTML(w.curpagename,t),r=!0;w.checkhtml&&(r=w._htmlcheck(e)),r&&(w.slidedom.innerHTML=e)}else e?(w.slidedom.innerHTML="",w.slidedom.appendChild(t)):w.slidedom.innerHTML=w.fmtHTML(w.curpagename,t.innerHTML);w.initPageDomEvents(r||w.curpage,w.slidedom)}return w.slidedom},w.hideSliderPage=function(){w.slidedom&&(w.slidedom.className="w-hide-common-slide-right",w.slidexdom.className="w-hide-common-slide-right-close",w.slidedom.innerHTML="")},w.hideSlider=w.hideSliderPage,w.pageTop=function(){w.curpage&&(w.curpage.__dom__.scrollTop=0)},w.loadPageLock=!1,w.handleNotFound=function(){if(w.config.notFound&&"string"!=typeof w.config.notFound){if("function"==typeof w.config.notFound)w.config.notFound();else if("object"==typeof w.config.notFound){let t=w.config.notFound;t.redirect&&w.pages[t.redirect]?w.redirect(t.redirect):this.coverShadow("<div>404: 没有此页面</div>")}}else this.coverShadow(w.config.notFound||"<div>404: 没有此页面</div>")},w.going=null,w.loadPage=async function(t){if(w.loadPageLock)return;w.loadPageLock=!0;let e=t.path;if(""!=e&&"/"!=e||(e=this.homepage),void 0===this.pages[e])return w.loadPageLock=!1,void this.handleNotFound();let r=this.pages[e];!1===this.initFlag&&await new Promise(((t,e)=>{setTimeout((()=>{t()}),52)}));let o=this.context();if(o.path=e,o.query=t.query,o.orgpath=t.orgpath,o.goTop=function(){r.scroll=0,o.dom.scrollTop=0},o.dom=r.__dom__,o.loaded=r.loaded,o.name=r.__name__,this.going=r.__name__,!1===await w.runHooks(o))return w.loadPageLock=!1,!1;let i=this.curpage;if(this.curpage=r,this.curpagename=r.__name__,this.hidePage(i),this.showPage(r),w.loadPageLock=!1,!1===r.init){if(!w._htmlcheck(r.orgHTML))return w.notifyTopError(`页面初始化错误：${r.__name__}.html`,1e4),!1;r.init=!0,r.__dom__.innerHTML=`${r.orgHTML}${r.tabsPlace}`,w.initPageDomEvents(r,r.__dom__)}if(r.onload&&"function"==typeof r.onload&&!1===r.loaded){r.loaded=!0;try{await r.onload(o)}catch(t){w.notify(t.message)}}if(r.onshow&&"function"==typeof r.onshow)try{await r.onshow(o)}catch(t){w.notify(t.message)}r.__dom__.scrollTop=r.scroll},w.reload=function(t=!0){let e=w.curpage;if(!e||t)return w.listenHash();w.destroyPage(e);let r=w.parseHashUrl(e.__name__);w.loadPage(r)},w.qs=function(t){let e=[];for(let r in t)e.push(`${r}=${encodeURIComponent(t[r])}`);return e.join("&")},w.go=function(t,e={},r="forward"){"string"==typeof e&&(r=e,e={}),this.pageShowTypeLock=!0,w.pageShowType=r;let o=w.qs(e);location.hash=`${t}${o.length>0?"?":""}${o}`},w.redirect=function(t,e={}){this.pageShowTypeLock=!0,w.pageShowType="forward","#"!==t[0]&&(t=`#${t}`);let r=w.qs(e.query||{}),o=()=>{history.replaceState({id:t},"",`${t}${r.length>0?"?":""}${r}`),w.listenHash()};if(e.delay)return setTimeout(o,e.delay);o()},w.fmtHTML=function(t,e){return e&&e.replace&&"function"==typeof e.replace?e=(e=e.replace(/ on[^(=|"|'|;)]+="[^"]+"/g,(e=>{let r=e.split("="),o=r[1].substring(1,r[1].length-1),i="";return 0!=o.indexOf("w.")?(o=`w.pages.${t}.${o}(this);`," onsubmit"===r[0]&&(i="return false;"),`${r[0]}="${o}${i}"`):e}))).replace(/ on[^=]+=[^(\s|>|"|')]+/g,(e=>{let r=e.split("="),o=r[1];return 0!=o.indexOf("w.")?(o=`w.pages.${t}.${o}(this);`," onsubmit"===r[0]?`${r[0]}="${o}return false;"`:`${r[0]}=${o}`):e})):e||""},w.setAttr=function(t,e){if(void 0===this.pages[t])return;if("object"!=typeof e)return;let r,o,i,s=this.pages[t].__dom__;for(let t in e){r=`[data-name=${t}]`,"#"===t[0]?r=t:"@"===t[0]?r=`[name=${t.substring(1)}]`:"."===t[0]?r=`[class=${t.substring(1)}]`:"["===t[0]?r=t:":"===t[0]&&(r=`[data-bind=${t.substring(1)}]`),o=s.querySelectorAll(r),0===o.length&&(o=w._queryGlobal(r)),i=e[t];for(let t of o)for(let e in i)switch(e){case"class":t.className=i[e];break;case"style":if("string"==typeof i[e])t.style.cssText=i[e];else if("object"==typeof i[e])for(let r in i[e])t.style[r]=i[e][r];break;default:t[e]=i[e]}}},w._globaldoms=["alertdom","slidedom","promptdom","navibtndom","notifydom"],w._queryGlobal=function(t){let e=[],r=[];for(let o of w._globaldoms)if(w[o]){r=w[o].querySelectorAll(t);for(let t of r)e.push(t)}return e},w.errorHandle=null,w.__cacheError=function(t){if(w.errorList.length>500)for(let t=0;t<100;t++)w.errorList.shift();if(w.errorList.push(t),w.errorHandle&&"function"==typeof w.errorHandle)try{w.errorHandle(w.errorList)}catch(t){w.notifyError(`errorHandle:<p>${t.message}</p>`,5e3)}},w.view=function(t,e){if(void 0===this.pages[t])return;if("object"!=typeof e)return;let r=this.pages[t],o=r.__dom__,i="",s="";for(let a in e){i=`[data-name=${a}]`,"#"===a[0]?i=a:"@"===a[0]?i=`[name=${a.substring(1)}]`:"."===a[0]?i=`[class=${a.substring(1)}]`:"["===a[0]&&(i=a),s=o.querySelectorAll(i),0===s.length&&(s=w._queryGlobal(i));try{w._setData(t,r,s,e[a])}catch(t){w.debug?(w.notifyError(t.message,3500),console.error(t)):w.__cacheError(t)}}},w._setData=function(t,e,r,o){let i="",s="",a=typeof o;for(let n=0;n<r.length;n++){if(r[n].dataset.map&&"function"==typeof e[r[n].dataset.map])i=e[r[n].dataset.map]({data:o,target:r[n],type:"map",dataType:a})||"";else if(r[n].dataset.list&&"function"==typeof e[r[n].dataset.list])if(o instanceof Array)o.forEach(((t,o)=>{i+=e[r[n].dataset.list]({data:t,index:o,key:o,target:r[n],type:"list",dataType:typeof t})||""}));else if(o&&"object"==typeof o)for(let t in o)i+=e[r[n].dataset.list]({data:o[t],key:t,target:r[n],type:"list",dataType:typeof o[t]})||"";else i=e[r[n].dataset.list]({data:o,target:r[n],type:"list",dataType:a})||"";else i="object"==typeof o?JSON.stringify(o):o;if("IMG"!==r[n].tagName){if(s=t?w.fmtHTML(t,i):i,void 0===r[n].dataset.insert&&(r[n].dataset.insert="replace"),"SELECT"===r[n].tagName){if(!/<option .*option>/i.test(s)){for(let t of r[n].options)if(t.value==i){t.selected=!0;break}continue}}else if("INPUT"===r[n].tagName&&["checkbox","radio"].indexOf(r[n].type)>=0&&"boolean"==typeof i){r[n].checked=i;continue}if(void 0!==r[n].value&&"SELECT"!==r[n].tagName)switch(r[n].dataset.insert){case"before":r[n].value=`${i}${r[n].value}`;break;case"end":r[n].value=`${r[n].value}${i}`;break;default:r[n].value=i}else{if(w.checkhtml&&!w._htmlcheck(s))return!1;switch(r[n].dataset.insert){case"before":r[n].insertAdjacentHTML("afterbegin",s);break;case"end":r[n].insertAdjacentHTML("beforeend",s);break;default:r[n].innerHTML=s}(t||0===t)&&w.initPageDomEvents(e,r[n])}i="",s=""}else r[n].src=i}},w.data={},w.bind=new Proxy(w.data,{set:(t,e,r)=>{t[e]=r;let o=`[data-bind=${e}]`,i=w._queryGlobal(o);for(let t of i)t.innerHTML=r;return!0},deleteProperty:(t,e)=>{delete t[e];let r=`[data-bind=${e}]`,o=w._queryGlobal(r);for(let t of o)t.innerHTML="";return!0}}),w._make_page_bind=function(t){let e=new Proxy(w.pages[t].data,{set:(e,r,o)=>{e[r]=o;let i=`[data-bind=${r}]`,s=w.pages[t].queryAll(i);0===s.length&&(s=w._queryGlobal(i));try{w._setData(t,w.pages[t],s,o)}catch(t){w.debug?(w.notifyError(t.message,3500),console.error(t)):w.__cacheError(t)}return!0},deleteProperty:(e,r)=>{delete e[r];let o=`[data-bind=${r}]`,i=w.pages[t].queryAll(o);0===i.length&&(i=w._queryGlobal(o));for(let t of i)t.innerHTML="";return!0}});Object.defineProperty(w.pages[t],"bind",{value:e,writable:!1})},w._page_style_bind=function(t){w.pages[t].__style__={};let e=new Proxy(w.pages[t].__style__,{set:(e,r,o)=>{e[r]=o;let i={};return i[`:${r}`]={style:o},w.setAttr(t,i),!0},get:(t,e)=>t[e]?t[e]:null,deleteProperty:(t,e)=>{delete t[e]}});Object.defineProperty(w.pages[t],"style",{value:e,writable:!1})},w.parseform=function(t){var e={node:t,childs:{},buttons:{},submit:null,files:{},values:{}},r=t.querySelectorAll("input"),o=t.querySelectorAll("select"),i=t.querySelectorAll("textarea");for(let t=0;t<r.length;t++)if(void 0!==r[t].name&&""!==r[t].name)switch(e.childs[r[t].name]=r[t],r[t].type){case"text":case"number":case"email":e.values[r[t].name]=r[t].value.trim();break;case"button":e.buttons[r[t].name]=r[t];break;case"submit":e.submit=r[t];break;case"file":r[t].files.length>0&&(e.files[r[t].name]=r[t].files);break;case"checkbox":r[t].checked&&(e.values[r[t].name]?e.values[r[t].name].push(r[t].value):e.values[r[t].name]=[r[t].value]);break;case"radio":r[t].checked&&(e.values[r[t].name]=r[t].value);break;default:e.values[r[t].name]=r[t].value}for(let t=0;t<o.length;t++)void 0!==o[t].name&&""!==o[t].name&&(o[t].options.length<=0||(e.childs[o[t].name]=o[t],e.values[o[t].name]=o[t].options[o[t].selectedIndex].value));for(let t=0;t<i.length;t++)void 0!==i[t].name&&""!==i[t].name&&(e.childs[i[t].name]=i[t],e.values[i[t].name]=i[t].value);return e},w.hooks=[],w.hookFunc={},w.hashchange=null,w.runHooks=async function(t){try{for(let e of w.hooks)if(w.hookFunc[e]&&"function"==typeof w.hookFunc[e]&&!1===await w.hookFunc[e](t))return!1}catch(t){return w.notify(t.message,{ntype:"error"}),!1}return!0},w.events={scroll:function(){if(w.curpage){w.curpage.scroll=w.curpage.__dom__.scrollTop;let e=w.curpage.__dom__.clientHeight+w.curpage.scroll;if("function"==typeof w.curpage.onscroll)try{w.curpage.onscroll(w.curpage.__dom__.scrollTop,w.curpage.__dom__.clientHeight,w.curpage.__dom__.scrollHeight)}catch(t){}var t=!1;if(t=w.isFirefox?Math.abs(e-w.curpage.__dom__.scrollHeight)<=1.21:Math.abs(e-w.curpage.__dom__.scrollHeight)<1.56,w.curpage.scroll<=1e-7){if("function"==typeof w.curpage.ontop&&!w.curpage.onTopLock){w.curpage.onTopLock=!0;try{w.curpage.ontop()}catch(t){}w.curpage.onTopLock=!1}}else if(t&&"function"==typeof w.curpage.onbottom)try{let t=Date.now();t-w.curpage.bottomTime>900&&(w.curpage.bottomTime=t,setTimeout((()=>{let t=w.curpage.__dom__.clientHeight+w.curpage.__dom__.scrollTop;w.curpage.__dom__.scrollHeight-t<1.56&&w.curpage.onbottom(w.curpage.__dom__.scrollHeight)}),350))}catch(t){console.log(t)}}},resize:function(){if(w.curpage&&"function"==typeof w.curpage.onresize)try{w.curpage.onresize(w.curpage.__dom__)}catch(t){w.notifyError(t.message)}}},w.init=null,w.tabs={cur:null,background:"#fafaff",selectedBackground:"#f1f2f3",list:[],pages:[],pageIndex:{}},w.switchTab=function(t){if(w.tabs.cur===t||w.tabs.pages.indexOf(t)<0)return;this.listenHashLock=!0,location.hash="",this.listenHashLock=!1;let e=w.tabsmenudom.childNodes,r=0;for(let o=0;o<e.length;o++)if(r=e[o].id.indexOf(t),r>0&&e[o].id.substring(r)===t){if(e[o].style.background=w.tabs.selectedBackground,w.tabs.list[o].selectedIcon&&w.tabs.list[o].selectedIcon.length>0){let t=e[o].querySelector("img");t&&(t.src=t.dataset.url+w.tabs.list[o].selectedIcon)}}else if(e[o].style.background=w.tabs.background,w.tabs.list[o].icon&&w.tabs.list[o].icon.length>0){let t=e[o].querySelector("img");t&&(t.src=t.dataset.url+w.tabs.list[o].icon)}w.tabs.cur=t,w.loadPage(w.parseHashUrl(t))},w.navi=function(t,e={}){let r="w-navigate-btn";e.position?["left","right","bottom"].indexOf(e.position)<0&&(e.position="left"):e.position="left",r+=` w-navigate-btn-${e.position}`,void 0===e.background&&(e.background=!0),!0===e.background||"default"===e.background?r+=" w-navigate-btn-bk":"rgba"===e.background?r+=" w-navigate-btn-bkrgba":"lucency"===e.background&&(r+=" w-navigate-btn-bklucency"),e.up&&"bottom"!==e.position&&(r+=" w-navigate-btn-up"),setTimeout((()=>{w.navibtndom.className=r,w.navibtndom.innerHTML=w.fmtHTML(w.curpagename,t),w.initPageDomEvents(e.context||w.curpage,w.navibtndom)}),5)},w.naviGlass=function(t,e="left",r=!1){w.navi(t,{position:e,background:"glass",up:r})},w.naviHide=function(){w.navibtndom.innerHTML="",w.navibtndom.className=""},w._devents=["click","blur","submit","input","dblclick","copy","fullscreenchange","fullscreenerror","focus","focusin","focusout","keyup","keydown","scroll","change","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","touchcancel","touchend","touchmove","touchstart","select","wheel","paste","cut","contextmenu","drag","dragend","dragleave","dragstart","dragover","dragenter","drop"],w.initDomEvent=function(t,e,r){if(!e||!e.querySelectorAll)return!1;let o=e.querySelectorAll("form");for(let t of o)t.onsubmit||(t.onsubmit=()=>!1);o=e.querySelectorAll(`[data-on${r}]`);for(let e of o)e.addEventListener(r,w.genEventProxy(t,e.dataset[`on${r}`]))},w.initPageDomEvents=function(t,e){for(let r of w._devents)w.initDomEvent(t,e,r)},w.eventProxy=function(t,e,r){let o=r.trim().indexOf("w.ext."),i=null;if(0===o){if(i=w.ext[r.substring(8)],"function"!=typeof i)return t.target&&t.target.dataset.noterror||w.notifyError(`${r} is not a function.`),!1}else if(!e||!e[r]||"function"!=typeof e[r])return t.target&&t.target.dataset.noterror||w.notifyError(`${r} is not a function.`),!1;let s={target:t.target,currentTarget:t.currentTarget,event:t,type:t.type,value:""},a=t.target.tagName.toLowerCase();if(s.tag=a,"form"===a)s.form=w.parseform(t.target),s.value=s.form.values;else if("input"===a||"textarea"===a)switch(s.value=s.target.value||"",s.target.type){case"file":s.files=s.target.files;break;case"checkbox":s.checked=s.target.checked}else"select"===a&&(s.value=s.target.options[s.target.selectedIndex].value);s.data=s.value;try{return 0===o?i(s):e[r](s)}catch(t){w.notify(t.message,"error")}},w.genEventProxy=function(t,e){return r=>w.eventProxy(r,t,e)},w._http_preg=new RegExp("^http[s]?://","i"),Object.defineProperty(w,"__mod__",{enumerable:!1,configurable:!1,writable:!1,value:Object.create(null)}),window._import=w.import=async function(t,e=!1){if(w.__mod__[t]&&!e)return w.__mod__[t];try{let e;w._http_preg.test(t)&&(e=await import(t).then((t=>t))),"/"!==t[0]&&(t=`/${t}`);let r=parseInt(1e4*Math.random());return e=await import(`${w.prepath}${t}?rand=${r}`).then((t=>t)),w.__mod__[t]=e,e}catch(t){w.notifyError(`import module:<p>${t.message}</p>`,5e3)}},Object.defineProperty(w,"__ext__",{enumerable:!1,configurable:!1,writable:!1,value:Object.create(null)}),w.ext=new Proxy(w.__ext__,{set:(t,e,r)=>{if(!t[e])return t[e]=r,!0;console.error(`${e}: 扩展名重复，请检查。`)},get:(t,e)=>{if(t[e])return t[e];console.error(`${e}: 没有此扩展。`)},deleteProperty:(t,e)=>(t[e]&&delete t[e],!0)}),Object.defineProperty(w,"__require_loop__",{value:5,configurable:!1,writable:!1,enumerable:!1}),window.require=async function(t){try{if(w.__ext__[t])return w.__ext__[t];let e=w.__require_loop__;for(let r=0;r<e;r++)if(await new Promise((t=>{setTimeout((()=>{t()}),2)})),w.__ext__[t])return w.__ext__[t];throw new Error(`${t}: 没有此扩展。`)}catch(t){console.error(t.message),console.error("请检查扩展是否启用或是否存在循环引用。")}},Object.defineProperties(w,{shareData:{writable:!1,value:{}},shareNoticeList:{writable:!1,value:{length:0,funcmap:{}}}}),w.registerShareNotice=function(t){if(w.shareNoticeList.length>=500)return w.notifyError("注册通知函数已达上限，不能超过500。"),!1;if(t.type||(t.type="set"),t.mode||(t.mode="always"),!t.key)return w.notifyError("注册通知函数必须明确指定key，若要全部监听，则使用*作为key值。"),!1;if(t.count=0,!t.callback||"function"!=typeof t.callback)return w.notifyError("没有callback函数用于通知回调。"),!1;if(t.id=`${t.key}.${Math.random().toString(16).substring(2)}${Date.now()}`,w.shareNoticeList.funcmap[t.key]){if(t.only)return!1;let e=w.shareNoticeList.funcmap[t.key];if(e.length>=10)return w.notifyError("同一个key注册通知函数不能超过10个。"),!1;e.push(t)}else w.shareNoticeList.funcmap[t.key]=[t];return w.shareNoticeList.length+=1,t.id},w.removeShareNotice=function(t){let e,r=t.indexOf(".");if(e=r<0?t:t.substring(0,r),!e||!w.shareNoticeList.funcmap[e])return!1;if(e===t)return w.shareNoticeList.funcmap[e]=null,!0;let o=w.shareNoticeList.funcmap[e],i=0;for(let e of o){if(e.id===t)return o.splice(i,1),w.shareNoticeList.length-=1,e;i+=1}},w.runShareNotice=function(t,e,r,o=null){let i=w.shareNoticeList.funcmap[r],s=w.shareNoticeList.funcmap["*"];if(!i&&!s)return;i||(i=[]),s||(s=[]);let a=i.concat(s),n=[];for(let i of a)if("all"===i.type||i.type===t)if("once"===i.mode&&i.count>0)n.push(i.id);else{i.count<1e7&&(i.count+=1);try{i.callback({type:t,obj:e,key:r,data:o})}catch(t){w.notifyError(t.message)}}if(n.length>0)for(let t of n)w.removeShareNotice(t)},Object.defineProperty(w,"share",{writable:!1,value:new Proxy(w.shareData,{set:(t,e,r)=>(t[e]=r,w.runShareNotice("set",t,e,r),!0),get:(t,e)=>(w.runShareNotice("get",t,e),t[e]||null),deleteProperty:(t,e)=>(w.runShareNotice("delete",t,e),delete t[e],!0)})}),w.loadScript=async function(t,e=""){w._http_preg.test(t)||(e&&0===t.indexOf("./static")&&(t=t.replace("./static","/component/"+e)),"/"!==t[0]&&(t=`/${t}`),t=`${w.prepath}${w.prepath.length>0?"/":""}${t}`);let r=document.createElement("script");return new Promise(((e,o)=>{r.type="text/javascript",r.src=t,document.body.appendChild(r),r.onerror=t=>{o(t)},r.onload=()=>{e({ok:!0,msg:"success"})}}))},w.__comps_loop__={};class Component extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"closed"}),Object.defineProperty(this,"attrs",{value:Object.create(null),configurable:!1,writable:!1,enumerable:!0}),this.properties&&"object"==typeof this.properties||(this.properties={});for(let t of this.attributes)this.properties[t.name]?this.attrs[t.name]=this._propValue(this.properties[t.name],t.value):this.attrs[t.name]=t.value;if(this.init&&"function"==typeof this.init&&this.init(),this.render&&"function"==typeof this.render){let t=this.render()||"";if("object"==typeof t)this.shadow.appendChild(t);else if("string"==typeof t&&t.length>0){let e=this.checkLoopRef(t);if(!1===e.ok)return this.notifyLoopRefError(e);w._htmlcheck(t)&&(this.shadow.innerHTML=t)}}w.initPageDomEvents(this,this.shadow),this.afterRender&&"function"==typeof this.afterRender&&this.afterRender()}_propValue(t,e){if(!t||"object"!=typeof t)return e;if(!t.type)return e;switch(t.type){case"number":case"int":e=parseInt(e);break;case"float":e=parseFloat(e);break;case"json":try{e=JSON.parse(e)}catch(t){e={}}}if("object"!=typeof e&&void 0!==t.limit&&Array.isArray(t.limit)){if(t.limit.indexOf(e)<0)return void 0!==t.default?t.default:t.limit[0]}else if("number"==typeof e){let r=0;if(void 0!==t.min&&e<t.min&&(r=-1),void 0!==t.max&&e>t.max&&(r=1),0!==r)return void 0!==t.default?t.default:r<0?t.min:t.max}return e}checkLoopRef(t){let e=`<${this.tagName.toLowerCase()}`,r=e+">",o=this.outerHTML.indexOf(e),i=this.outerHTML.indexOf(">")+1,s=this.outerHTML.substring(o,i),a={ok:!0,outername:s,tagname:r};if("string"==typeof t){if(t.indexOf(s)>=0)return a.ok=!1,a}else if(t.innerHTML.indexOf(s)>=0)return a.ok=!1,a;let n=this.parentNode,l=e.substring(1);for(w.__comps_loop__[l]||(w.__comps_loop__[l]=[]);n;){if("[object ShadowRoot]"!==n.toString())return a;w.__comps_loop__[l].push(n.host.localName),n=n.parentNode}let c=1,h=(t,e)=>{for(let r of t){if(r===e&&c++,c>2)return!1;if(w.__comps_loop__[r].length>0&&!1===h(w.__comps_loop__[r],e))return!1}return!0};return h(w.__comps_loop__[l],l)||(a.ok=!1),a}notifyLoopRefError(t){let e=t.outername.replaceAll("<","&lt;").replaceAll(">","&gt;");return w.notifyError(`${this.tagName} [${e}]存在循环引用${t.ref?" &lt;--&gt; ":""}${t.ref||""}`,2e4),""}plate(t=null,e={}){"object"!=typeof t&&t||(e=t||{},t=this.tagName.toLowerCase()),"#"===t[0]&&(t=t.substring(1));let r=document.querySelector(`template[id=${t}]`);if(r||(r=document.querySelector(`div[data-id=${t}]`),r&&(r=r.querySelector("template"))),!r)return!1;let o=this.checkLoopRef(r);if(!1===o.ok)return this.notifyLoopRefError(o);let i,s=r.content.cloneNode(!0);for(let t in e)i=s.querySelectorAll(`[data-name=${t}]`),w._setData(null,this,i,e[t]);return s}_fmtquery(t){let e=`[data-name=${t}]`;return"#"===t[0]?e=t:"@"===t[0]?e=`[name=${t.substring(1)}]`:"."===t[0]?e=`[class=${t.substring(1)}]`:"["===t[0]&&(e=t),e}view(t){let e,r="";for(let o in t){r=this._fmtquery(o),e=this.shadow.querySelectorAll(r);try{w._setData(0,this,e,t[o])}catch(t){w.debug?(w.notifyError(t.message,3500),console.error(t)):w.__cacheError(t)}}}setAttr(t){if(!t||"object"!=typeof t)return;let e,r,o;for(let i in t)if(e=this._fmtquery(i),r=this.shadow.querySelectorAll(e),0!==r.length){o=t[i];for(let t of r)for(let e in o)switch(e){case"class":t.className=o[e];break;case"style":if("string"==typeof o[e])t.style.cssText=o[e];else if("object"==typeof o[e])for(let r in o[e])t.style[r]=o[e][r];break;default:t[e]=o[e]}}}queryAll(t){return this.shadow.querySelectorAll(t)}query(t){return this.shadow.querySelector(t)}connectedCallback(){this.onload&&"function"==typeof this.onload&&this.onload()}disconnectedCallback(){this.onremove&&"function"==typeof this.onremove&&this.onremove()}adoptedCallback(){this.onadopted&&"function"==typeof this.onadopted&&this.onadopted()}attributeChangedCallback(t,e,r){this.onattrchange&&"function"==typeof this.onattrchange&&this.onattrchange(t,e,r)}naviGlass(t,e="left",r=!1){w.navi(t,{context:this,position:e,background:"glass",up:r})}naviHide(){w.naviHide()}cover(t,e={notClose:!1,transparent:!1}){!!e.notClose||(t=`<div style="text-align:right;"><span style="user-select:none;padding:0.15rem;text-decoration:none;cursor:pointer;" data-onclick=uncover>X</span></div>${t}`),w.alert(t,{context:this,replace:!0,notClose:!0,withCover:!0,shadow:!0,transparent:!!e.transparent})}uncover(){w.unalert("shadow")}loadScript(t){return w.loadScript(t,this.tagName.toLowerCase())}}
        </script>
      </head>
      <body style="overflow-x:hidden;overflow-wrap:break-word;">
        <div><div data-id="u-card"><template>
<style></style>

<div>u-card组件</div>
</template>
</div></div>
        <script>
          'use strict';
          w.host = 'https://www.a.com';
          window.__prepath__ = w.prepath = '';
          w.homepage = 'home';
          w.__title__ = '新项目';
          w.curTitle = '新项目';
          w.debug = false;

          w.tabs.list = [{"page":"home","icon":"static/icon/home.png","selectedIcon":"static/icon/home2.png","name":"首页"},{"page":"user","icon":"static/icon/user.png","selectedIcon":"static/icon/user2.png","name":"用户"}];
          w.tabs.pages = ["home","user"];
          w.tabs.pageIndex = {"home":0,"user":1};
          w.tabs.background = '#fafaff';
          w.tabs.selectedBackground = '#f1f2f3';
          
          window.alert = w.alert.bind(w);
          window.unalert = w.unalert.bind(w);
          window.alertError = w.alertError.bind(w);
          window.notify = w.notify.bind(w);
          window.notice = w.notice.bind(w);
          window.notifyError = w.notifyError.bind(w);
          window.prompt = w.prompt.bind(w);
          window.unprompt = w.unprompt.bind(w);
          window.notifyTop = w.notifyTop.bind(w);
          window.notifyLight = w.notifyLight.bind(w);
          window.notifyTopError = w.notifyTopError.bind(w);
          window.notifyOnly = w.notifyOnly.bind(w);
          window.unnotify = w.unnotify.bind(w);
          window.promptMiddle = w.promptMiddle.bind(w);
          window.promptTop = w.promptTop.bind(w);
          window.promptGlass = w.promptGlass.bind(w);
          window.promptTopGlass = w.promptTopGlass.bind(w);
          window.promptTopDark = w.promptTopDark.bind(w);
          window.promptMiddleGlass = w.promptMiddleGlass.bind(w);
          window.promptDark = w.promptDark.bind(w);
          window.promptMiddleDark = w.promptMiddleDark.bind(w);
          window.acover = w.acover.bind(w);
          window.coverShadow = w.coverShadow.bind(w);
          window.uncover = w.uncover.bind(w);
          window.uncoverShadow = w.uncoverShadow.bind(w);
          window.setCoverText = w.setCoverText.bind(w);
        </script>
        <script>'use strict';</script>
        <script>'use strict';!async function(t){w.ext.token=new function(){this.key="token",this.get=function(){return w.storage.get(this.key)},this.set=function(t){w.storage.set(this.key,t)},this.remove=function(){w.storage.remove(this.key)}}}(),async function(t){w.init=function(){w.ext.pushStart()}}(w.ext),async function(t){const e=await require("token"),n=await require("userinfo");t.parseUrl=function(){let t=e.get(),o=decodeURIComponent(location.search);if(!(o.length<=0||"?"!==o[0])||null!==t){var i=o.substring(1).split("&"),c={},a="";for(let t=0;t<i.length;t++)(a=i[t].split("=")).length<=0||(a.length<2&&a.push(""),c[a[0]]=a[1]);void 0!==c.token&&(e.set(c.token),n.set(c))}}}(w.ext),async function(t){const e=await require("parseUrl"),n=await require("token");t.checkToken=function(t=!1){if(e(),null===n.get())return!1;let o=w.storage.jget("userinfo");return!(parseInt(o.logintime)+parseInt(o.expires)<=Date.now())||(t&&n.remove(),!1)}}(w.ext),async function(t){let e={};t.confirmExp=e,t.confirmExec=function(t){if(unalert("shadow"),void 0===e[t])return!1;let{callback:n,args:o}=e[t];return delete e[t],"function"==typeof n?n(o):void 0},t.confirmCancel=function(t){if(unalert("shadow"),void 0!==e[t])try{e[t].cancel&&"function"==typeof e[t].cancel&&e[t].cancel()}catch(t){console.error(t)}finally{delete e[t]}},t.confirm=function(t={callback:null,args:null,text:""}){let n=`call_${Date.now()}${parseInt(1e4*Math.random())+1}`;e[n]={callback:t.callback,args:t.args||null},t.cancel&&(e[n].cancel=t.cancel);let o=`<div style="text-align:center;font-size:89%;color:#4a4a4f;">\n    <p>${t.text||""}</p>\n    <button class="small" style="font-weight:bold;" onclick="w.ext.confirmExec('${n}');">确定</button>\n    &nbsp;&nbsp;&nbsp;\n    <button class="small inverse" style="background:#676869;" onclick="w.ext.confirmCancel('${n}');">取消</button>\n  </div>`;unalert("all"),coverShadow(o,!!t.transparent)},window.confirm=t.confirm.bind(t)}(w.ext),async function(t){w.ext.loginRedirect=function(){let t=`${location.href}`;location.href=`${w.host}/wx/oauth-code?redirect=${encodeURIComponent(t)}`}}(),async function(t){w.ext.pushStart=function(){let t=location.hash;""===t||"#"===t||history.length>2||(history.replaceState({id:"home"},"","#"),history.pushState({id:"home"},"","#"),history.pushState({},"",t))}}(),async function(t){w.ext.userinfo=new function(){this.key="userinfo",this.get=()=>w.storage.jget(this.key),this.set=t=>{w.storage.jset(this.key,t)},this.remove=()=>{w.storage.remove(this.key)}}}();</script>
        <script>'use strict';</script>
        <script>'use strict';</script>
        <script>'use strict';!async function(t){let n=[{id:101,name:"50公斤大背包金刚粉"},{id:102,name:"现代风格简约古朴实木布艺沙发"},{id:103,name:"10000mAh电池超长屏幕便携手机"}];t.home=new function(){this.renderList=t=>`\n        <h4>${t.data.id}</h4>\n        <div>${t.data.name}</div>\n      `,this.clickTest=function(t){console.log(t),notifyTop("OK")},this.getInput=function(t){this.view({inputValue:t.value})},this.submitTest=function(t){console.log(t),notifyTop(JSON.stringify(t.value))},this.curTime=function(){let t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()} ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`},this.timer=null,this.onload=function(t){this.view({list:n,timeText:this.curTime()}),setTimeout((()=>{w.share.test=123}),1e3),setTimeout((()=>{delete w.share.test}),2e3)},this.onshow=function(t){this.timer=setInterval((()=>{this.view({timeText:this.curTime()})}),1e3)},this.clearTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},this.onhide=function(){this.clearTimer()},this.onunload=function(){this.clearTimer()},this.onbottom=function(){},this.onscroll=function(){}},t.home.orgHTML='<div container>\n  <div grid>\n    <div column>\n      <div data-name="timeText" data-onclick=clickTest></div>\n\n      <form data-onsubmit=submitTest>\n        <input type="text" name="input" oninput=w.pages.home.getInput(this);>\n        <p data-name=inputValue style="font-size:86%;color:#676869;line-height:135%;"></p>\n        <input type="submit" value="提交" class="submit-button">\n      </form>\n\n      <div data-name="list" style="color:#4a4a4f;padding:0.8rem;" data-list="renderList">\n      </div>\n    </div>\n  </div>\n\n</div>\n'}(w.pages),async function(t){w.share.userlist=[{id:"u_001",level:1,name:"两只小蜜蜂"},{id:"u_002",level:3,name:"白日依山近"},{id:"u_003",level:5,name:"千里共婵娟"},{id:"u_004",level:10,name:"百万雄师过大江"},{id:"u_005",level:12,name:"那些钱是我的"}],t.user=new function(){this.onload=async function(t){acover('<div style="text-align:center;">loading</div>',!0),await _import("/static/module/u-card.js").then((t=>{console.log(t)})),setTimeout((()=>{uncover()}),500)},this.onshow=function(t){},this.onhide=function(){},this.onunload=function(){},this.onbottom=function(){},this.onscroll=function(){}},t.user.orgHTML='<div container>\n  <div row>\n    <div c-12>\n\n      <u-card></u-card>\n      \n      <div style="text-align: center;">\n        <a href="#test">Test Page</a>\n      </div>\n    </div>\n  </div>\n</div>'}(w.pages),async function(t){t.test=new function(){this.data={},this.testConfirm=t=>{confirm({text:"确认？",callback:()=>{notify("OK")},cancel:()=>{notify("CANCEL")}})},this.onload=function(t){},this.onshow=function(t){},this.onhide=function(){},this.onunload=function(){},this.onbottom=function(){},this.onscroll=function(){}},t.test.orgHTML='<div class="container">\n  <div grid>\n    <div column="3 +1" style="margin-top: 1rem;">\n      <button class="-success" onclick=w.pages.test.testConfirm(this);>Confirm Test</button>\n    </div>\n    \n  </div>\n  <div style="text-align: center;">\n    <a href="#list">List</a>\n  </div>\n</div>'}(w.pages),async function(t){t.list=new function(){this.data={},this.makeList=()=>{let t=parseInt(9*Math.random())+8,n=[];for(let i=0;i<t;i++)n.push({id:`${(new Date).toDateString()}${parseInt(1e4*Math.random())+1}`,text:`${(new Date).toLocaleString()} ${i} ${Math.random()}`});return n},this.renderList=t=>{let n="",i=(t=100,n=150)=>(parseInt(Math.random()*n)+t).toString(16);return t.data.forEach((t=>{let e=`${i(96)}${i(92)}${i(105)}`;n+=`\n        <div column>\n          <div style="padding:0.35rem;box-shadow:0.25rem 0.25rem 0.25rem #efefef;border-radius:0.15rem;margin-bottom:0.65rem;background:#${e};">\n            <h4>${t.id}</h4>\n            <p>${t.text}</p>\n          </div>\n        </div>\n      `})),n},this.onload=function(t){this.view({list:this.makeList()})},this.onshow=function(t){},this.onhide=function(){},this.onunload=function(){},this.onbottom=function(){this.view({list:this.makeList()})},this.onscroll=function(t,n,i){},this.ontop=function(){},this.onresize=function(){}},t.list.orgHTML='<div container>\n  <div row>\n  \n    <div c-12>\n      <div style="height: 1.2rem;"></div>\n      <div data-name=list data-map=renderList data-insert="end"></div>\n    </div>\n\n  </div>\n</div>'}(w.pages);</script>
        <script>
        'use strict';

        window.onload = async function () {
          let dms = [
            'pgcdom','coverdom','notifydom','alertdom','alertdom1', 'slidedom', 'alertcoverdom',
            'alertcoverdom1', 'tabsdom','tabsmenudom', 'historydom','slidexdom', 'promptdom', 'navibtndom', 'promptclosedom'
          ];

          for (let i=0; i<dms.length; i++) {
            w[ dms[i] ] = document.body.insertBefore(
              document.createElement('div'),
              document.body.firstChild
            );
          }

          await new Promise(rv => {setTimeout(() => {rv();}, 10);});

          w.initPage();
          initPages();

          if (w.tabs.list.length > 0) {
            w.tabsmenudom.className = 'w-tabbar-row-x';
            w.tabsmenudom.background = '#fafaff';
            w.tabsmenudom.innerHTML = `<div class="w-tabbar-row-cell" id="w-t-mmmm-home" onclick="w.switchTab('home');" name="home" style="width:50%;"><img data-url="/" src="/static/icon/home.png" style="max-height: 1.35rem;height:auto;width:auto;" name="home"><div name="home" style="box-sizing:border-box;font-size:81%;line-height:102%;padding-bottom:3.2px;padding-top:2px;">首页</div></div><div class="w-tabbar-row-cell" id="w-t-mmmm-user" onclick="w.switchTab('user');" name="user" style="width:50%;"><img data-url="/" src="/static/icon/user.png" style="max-height: 1.35rem;height:auto;width:auto;" name="user"><div name="user" style="box-sizing:border-box;font-size:81%;line-height:102%;padding-bottom:3.2px;padding-top:2px;">用户</div></div>`;
          }
        };
        
        function initPages () {
          for (let p in w.pages) {
            w.pages[p].view = function (data,options={}) {return w.view(p,data,options);};
            w.pages[p].render = function (htext) {return w.fmtHTML(p, htext);};
            w.pages[p].setScroll = function(scr) {
              if (scr < 0) { w.pages[p].__dom__.scrollTop += scr; }
              else { w.pages[p].__dom__.scrollTop = scr; }
            };
            w.pages[p].destroy = function () {w.destroyPage(w.pages[p]);};
            w.pages[p].query = function(qstr) {return w.pages[p].__dom__.querySelector(qstr);};
            w.pages[p].queryAll = function(qstr) {return w.pages[p].__dom__.querySelectorAll(qstr);};
            w.pages[p].setAttr = function (data) {w.setAttr(p,data);};
            if (!w.pages[p].data || typeof w.pages[p].data !== 'object') {
              w.pages[p].data = {};
            }
            w._make_page_bind(p);
            w._page_style_bind(p);
          }
        }

        window.onpageshow = async function() {
          await new Promise(rv => {setTimeout(() => {rv();}, 30);});
          if (w.init && typeof w.init === 'function') w.init();
          if (w.tabs.list.length > 0 && w.tabs.pageIndex[w.homepage] !== undefined && location.hash.length < 2)
          {
            w.switchTab(w.homepage);
          } else {
            w.listenHash();
          }
          
        };

        window.jump_page_forward = false;

        document.addEventListener('click', evt => {
          let t = evt.target;
          let ft = evt.currentTarget;
          if ((!t || !t.tagName || t.tagName !== 'A') && ft) {
            t = ft;
          }

          if (t.activeElement && t.activeElement.tagName === 'A') {
            let href = t.activeElement.href || '';
            if (href === 'javascript:history.back();' || href === 'javascript:history.go(-1);')
            {
              window.jump_page_forward = -1;
              return;
            }
          }
        
          let url = '';
          if (t && t.tagName && t.tagName === 'A') {
            url = t.href;
          } else if (t.documentURI) {
            url = t.documentURI;
          }

          if (url) {
            let cur_url = location.protocol + '/'+'/' + location.host + location.pathname;
            if (url.indexOf(cur_url) === 0 && url.indexOf('#') > 0) {
              window.jump_page_forward = true;
            }
          }
        });

        window.onhashchange = async function(e) {
          if (w.hashchange && typeof w.hashchange === 'function') {
            if (w.hashchange(e) === false) {
              return;
            }
          }

          await new Promise((rv, rj) => { setTimeout( () => { rv(); }, 15); });

          let parsehash = (h) => {
            let ind = h.indexOf('#');
            if (ind < 0) return '#';
            return h.substring(ind);
          };
          
          let hashstr = parsehash(e.oldURL);
          let new_hashstr = parsehash(e.newURL);

          if (w.historyList.length > 95) {
            for (let i = 0; i < 50; i++) {
              w.historyList.shift();
            }
            w.historyList.unshift('#');
          }

          let ind = w.historyList.indexOf(hashstr);

          let op = '';
          if (w.historyLength < history.length || window.jump_page_forward === true) {
            op = 'forward';
            window.jump_page_forward = false;
          } else {
            
            if (ind > 1) {
              if (w.historyList[ind-1] === new_hashstr) {
                op = 'back';
              } else {
                op = 'forward';
              }
            } else {
              op = 'back';
            }

            if (window.jump_page_forward === -1) {
              window.jump_page_forward = false;
              op = 'back';
            }

          }

          w.historyList.push(new_hashstr);
          w.historyLength = history.length;

          w.listenHash(op);
        };

        window.onscroll = function (){w.events.scroll();};
        window.onresize = function (){w.events.resize();};
        window.onunload = function () {w.destroyAllPage();};
        </script>
        
        
      </body>
    </html>