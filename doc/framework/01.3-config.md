<!--name:项目配置文件-->
# config.json

```javascript
{
    "title" : "新项目",
    "pages" : [
        "home",
        "user",
        "test",
        "list"
    ],

    "buildInApp": true,

    "scriptUrl": "",

    //正式发布，会赋值给w.host
    "host" : "https://www.a.com",
    
    //测试模式赋值给w.host，运行node app.js [应用名称] --test即可开启测试模式
    "testHost" : "http://localhost:2025",

    //配置标签页
    "tabs" : {
        "background" : "#fafaff",
        "selectedBackground" : "#f1f2f3",
        "list" : [
            {
                "page" : "home",
                "icon" : "static/icon/home.png",
                "selectedIcon": "static/icon/home2.png",
                "name" : "首页"
            },
            {
                "page" : "user",
                "icon" : "static/icon/user.png",
                "selectedIcon": "static/icon/user2.png",
                "name" : "用户"
            }
        ]
    },

    //构建应用时，静态资源的前缀路径
    "buildPrePath" : "",

    //直接编译到应用内部的css
    "buildCss": [
        "/static/css/mgrid.css"
    ],

    //通过link引入的css
    "cssurl" : [
        "/static/css/concise.min.css",
        "/static/css/concise-ui.min.css"
    ],

    //通过script引入的js，这会在head中引入
    "jsurl" : [
        "/static/js/a.js",
        //这种模式就是在head标签中会引入js，但是会以defer模式：<script src="/static/js/m.js" defer></script>
        {"url": "/static/js/m.js", defer: true}
    ],

    //在body底部引入的js，建议第三方的js都在最底部引入，比如地图组件，这种需要在底部，不要影响全局的应用。
    "jsbottom" : [
        "https://map.xx.com/xxxxx.js",
        {url: "https://xxx.com/aaa.js", async: true}
    ],

    //要启用哪些扩展，对应于extends目录中的文件，名字不需要带上.js
    "extends" : [
        "token",
        "parseUrl",
        "checkToken",
        "confirm",
        "loginRedirect",
        "pushStart",
        "userinfo"
    ],

    //要启用哪些组件
    "components" : [
        "u-card"
    ],

    //组件的css，这些文件都在components/@css目录，关于组件css的问题，可以参考组件文档。
    "componentCss": {
        //*表示对所有组件都启用这些css
        "*" : ["mgrid.css", "basic.css", "concise.min.css", "concise-ui.min.css"],
        //这表示对组件x-y a-b不使用全局css
        "!*" : ["x-y", "a-b"],

        //具体某个组件要启用的css
        "x-y": [
            "basic.css", "a.css"
        ],

        "a-b": [
            "x.css"
        ],

        //此组件会启用*指定的css和自己独有的user.css
        "u-info": [
            "user.css",
            //扩展目录下存在static/css/u.css
            "./static/css/u.css"
        ]
    },

    //组件是否编译成module的方式，这种形式不会内嵌到最后构建的单页应用中，需要通过import动态导入才可以使用。
    //支持的值：true、false、数组：["a-b", "x-y"]
    "componentModule": true,

    //要使用的基础库版本
    "version": "2.9",

    //是否使用manifest.json文件
    "manifest": false,

    //样式的圆角大小：small large。设置为空字符串则为默认的圆角大小，设置为false表示不启用。
    "radius" : "small",

    //debug模式，这种模式下，不会压缩js代码，用在开发测试场景。
    "debug": true,

    //是否使用动画，在一些弹出框等场景会使用简单的动画。
    "animation": true,

    //是否启用页面的动画，启用后，页面会有滑动展示的效果。
    "pageAnimation": true,

    //关闭应用时，是否弹出提示，启用时，浏览器会弹出框，让用户选择是否关闭页面。
    "closePrompt": false,

    //构建时进行代码压缩，这在node build.js [应用名称] --compress也可以实现压缩。
    "buildCompress": true,

    //是否自动刷新，在开发模式才会有效，用于开发过程中，当代码改变，会自动刷新页面应用更改。
    "autoRefresh": true,

    //指定语言环境，默认即可。就是给html的lang属性使用，比如设置为 zh-CN
    "lang": "",

    //应用描述文本，用于搜索引擎。
    "description": "",
    
    //关键词描述，用于搜索引擎。
    "keywords": [],

    //应用标签页显示的logo
    "iconPath": "/favicon.ico"
}
```

----

## 一些选项的说明

### pages

要启用哪些页面，如果没有会自动创建。只需要写页面的名字即可，注意名字不能有空格，不能有其他特殊字符。

允许的字符：字母、数字、下划线、减号。

### extends

启用的扩展，不需要带有.js，只需要写文件名，允许的名字和pages要求一致，并且扩展要求字母开头。

如果需要暂时屏蔽某些扩展，可以直接在配置的扩展名称前面加上'!'，这样不必删除扩展。

### componentCss

这是一个十分重要的设计，它的配置让每个组件可以共享一些全局的css样式，并且内部的处理还不会让打包的css代码过大，实现了重复利用，并且每个组件还可以引入自己的css文件。

### buildInApp

是否把基础库编译到应用里面，如果是false则可以把基础库作为script标签使用src引入。

### srciptUrl

默认引入的基础库是放在应用的静态资源目录下，如果有必要，你可以使用一个专门用于静态资源的服务，并把对应版本的url设置到此处。
